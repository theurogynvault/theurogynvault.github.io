<!-- ðŸŒ™ Material 3 Dark/Light Toggle -->
<script>
document.addEventListener("DOMContentLoaded", function(){
  const btn = document.createElement("div");
  btn.id = "theme-toggle";
  btn.innerText = "ðŸŒ™"; // simple toggle emoji
  document.body.appendChild(btn);

  // Apply saved theme
  const savedTheme = localStorage.getItem("theme");
  if (savedTheme === "dark") {
    document.body.classList.add("dark-mode");
  }

  // Toggle theme on click
  btn.onclick = () => {
    document.body.classList.toggle("dark-mode");
    const isDark = document.body.classList.contains("dark-mode");
    localStorage.setItem("theme", isDark ? "dark" : "light");
  };
});
</script>

<!-- Load Material 3 custom styles -->
<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">

{% if site.search == true %}
  <script src="{{ '/assets/js/lunr/lunr.min.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/lunr/lunr-store.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/lunr/lunr-en.js' | relative_url }}"></script>
{% endif %}

<script>
document.addEventListener("DOMContentLoaded", function() {
  const icon = document.getElementById("search-icon");
  const input = document.getElementById("search-input");

  // Toggle search bar open/close
  icon.addEventListener("click", () => {
    input.classList.toggle("active");
    if (input.classList.contains("active")) {
      input.focus();
    }
  });

  // Close search bar if clicking outside
  document.addEventListener("click", (e) => {
    if (!icon.contains(e.target) && !input.contains(e.target)) {
      input.classList.remove("active");
    }
  });
});
</script>

